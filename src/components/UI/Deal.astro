---
import Button from "./Button.astro"
import { Image } from "astro:assets"
interface Props {
    deal: Deal
}
const {
    deal: {
        name,
        href,
        img,
        costs: { new: newCost, old: oldCost },
    },
} = Astro.props
---

<a class="deal" href={href}>
    <div class="deal__img">
        <Image src={img} alt="" />
    </div>
    <div class="deal__body">
        <div class="deal__caption">{name}</div>
        <div class="deal__const">
            <strike>{oldCost.toLocaleString()} ₽</strike>
            <strong>{newCost.toLocaleString()} ₽</strong>
        </div>
    </div>
    <Button type="transparent" text="Добавить в корзину" href={href} />
</a>

<style is:global>
    .deal {
        height: 100%;
        border-radius: 20px;
        background: #fff;
        padding: 10px;
        display: grid;
        grid-template-rows: 2fr 1fr auto;
        /* padding-top: 80px; */
        /* display: flex;
        flex-direction: column;
        gap: 15px;
        align-items: center;
        justify-content: space-between; */
        container: deal / inline-size;
    }

    .deal > :first-child > img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
    .deal__caption {
        color: var(--clr-black);
        text-align: center;
        /* font-size: clamp(12px, 18 / 1920 * 100vw, 18px); */
        font-size: 6cqw;
        font-weight: 500;
    }

    .deal__const {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1em;
        margin-bottom: 31px;
        font-family: "Roboto Condesed", sans-serif;
    }
    .deal__const > strike {
        color: #d9d9d9;
        text-align: center;
        font-family: Roboto Condensed;
        font-size: 18px;
        font-style: normal;
        font-weight: 500;
        line-height: 105%; /* 18.9px */
    }
    .deal__const > strong {
        color: var(--clr-blue);
        text-align: center;
        font-size: 25px;
        font-weight: 500;
        line-height: 105%; /* 26.25px */
    }
    .deal > img {
        margin-bottom: calc(78 / 1920 * 100vw);
        width: 100%;
    }
</style>
